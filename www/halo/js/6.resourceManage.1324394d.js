webpackJsonp([6],{804:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,i,o=n(400),c=(n.n(o),n(171)),u=n.n(c),s=n(805),l=(n.n(s),n(402)),d=n.n(l),m=n(399),p=(n.n(m),n(70)),f=n.n(p),v=n(3),E=n.n(v),h=n(105),y=(n.n(h),n(84)),b=n.n(y),g=n(30),k=n.n(g),R=n(4),C=n.n(R),S=n(7),x=n.n(S),L=n(5),V=n.n(L),O=n(6),_=n.n(O),w=n(806),N=(n.n(w),n(107)),j=n.n(N),q=n(809),z=(n.n(q),n(401)),A=n.n(z),D=n(0),T=n.n(D),M=n(37),F=n(32),I=n(812),W=n(419),B=A.a.Item,J=j.a.Option,K=(a=Object(M.b)(function(e){var t=e.pages.resourceManage.addEditResourceState;return{mode:t.mode,visible:t.visible,initData:t.initData}},function(e){return Object(F.b)({setAddEditResouceState:W.setAddEditResouceState,addResourceList:W.addResourceList,changeResourceList:W.changeResourceList},e)}),r=A.a.create(),a(i=r(i=function(e){function t(e){C()(this,t);var n=V()(this,(t.__proto__||k()(t)).call(this,e));return n.state={loading:!1},n}return _()(t,e),x()(t,[{key:"componentWillMount",value:function(){this.props.form.resetFields()}},{key:"onClose",value:function(){this.props.setAddEditResouceState({mode:"add",visible:!1,initData:null}),this.onClear()}},{key:"onClear",value:function(){this.props.form.resetFields()}},{key:"onSubmit",value:function(){var e=this,t=this.props,n=t.form,a=t.mode,r=t.initData,i=t.addResourceList,o=t.changeResourceList,c=n.getFieldsValue;(0,n.validateFields)(function(t,n){if(t)b.a.error("请正确填写内容！");else{var u=c(),s=i;"modify"===a&&(u=E()({},u,{id:r.id}),s=o);var l=function(){e.setState({loading:!1})};!function(){e.setState({loading:!0})}(),s(u,function(){e.onClear(),e.onClose(),l()},l)}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.form,r=t.mode,i=t.initData,o=a.getFieldDecorator,c={labelCol:{span:6},wrapperCol:{span:12}},s="add"===r;return T.a.createElement("div",{className:"addEditResourceBox"},T.a.createElement(u.a,{title:s?"添加资源":"修改资源",width:600,visible:n,onOk:this.onSubmit,onCancel:function(t){return e.onClose()},footer:[T.a.createElement(f.a,{key:"back",type:"ghost",size:"large",onClick:function(t){return e.onClose()}},"返 回"),T.a.createElement(f.a,{key:"submit",type:"primary",size:"large",onClick:function(t){return e.onSubmit()}},"提 交")]},T.a.createElement(A.a,{layout:"horizontal"},T.a.createElement(B,E()({},c,{label:"资源类型"}),o("resourceType",{rules:[{required:!0,whitespace:!0}],initialValue:s?"city":i.resourceType})(T.a.createElement(j.a,null,T.a.createElement(J,{value:"city"},"城市"),T.a.createElement(J,{value:"mobileModel"},"机型"),T.a.createElement(J,{value:"netType"},"网络"),T.a.createElement(J,{value:"osVersion"},"osVersion")))),T.a.createElement(B,E()({},c,{label:"平台类型"}),o("platform",{rules:[{required:!0,whitespace:!0}],initialValue:s?"0":i.platform})(T.a.createElement(j.a,null,T.a.createElement(J,{value:"0"},"平台无关"),T.a.createElement(J,{value:"1"},"Android"),T.a.createElement(J,{value:"2"},"iOS")))),T.a.createElement(B,E()({label:"资源名称"},c,{required:!0}),o("resourceName",{initialValue:s?"":i.resourceName,rules:[{required:!0,message:"请输入资源名称",whitespace:!0}]})(T.a.createElement(d.a,{placeholder:"请输入资源名称",size:"large"}))),T.a.createElement(B,E()({label:"资源值"},c,{required:!0}),o("resourceValue",{initialValue:s?"":i.resourceValue,rules:[{required:!0,message:"请输入资源值",whitespace:!0}]})(T.a.createElement(d.a,{placeholder:"请输入资源值",size:"large"})))),T.a.createElement(I.a,{loading:this.state.loading})))}}]),t}(T.a.Component))||i)||i);n.d(t,"default",function(){return ge});var P,G,H=n(813),Q=(n.n(H),n(403)),U=n.n(Q),X=n(399),Y=(n.n(X),n(70)),Z=n.n(Y),$=n(833),ee=(n.n($),n(408)),te=n.n(ee),ne=n(30),ae=n.n(ne),re=n(4),ie=n.n(re),oe=n(7),ce=n.n(oe),ue=n(5),se=n.n(ue),le=n(6),de=n.n(le),me=n(3),pe=n.n(me),fe=n(0),ve=n.n(fe),Ee=n(37),he=n(32),ye=n(106),be=n(419),ge=(P=Object(Ee.b)(function(e){return{resourceList:e.pages.resourceManage.resourceList}},function(e){return Object(he.b)(pe()({},be),e)}))(G=function(e){function t(){return ie()(this,t),se()(this,(t.__proto__||ae()(t)).apply(this,arguments))}return de()(t,e),ce()(t,[{key:"addResource",value:function(e){this.props.setAddEditResouceState({mode:"add",visible:!0})}},{key:"changeResource",value:function(e){this.props.setAddEditResouceState({mode:"modify",visible:!0,initData:e})}},{key:"delResource",value:function(e){this.props.delResource({id:e})}},{key:"componentWillMount",value:function(){this.props.queryResourceList()}},{key:"render",value:function(){var e=this,t=this.props.resourceList,n=[{title:"资源类型",dataIndex:"resourceType",key:"resourceType",render:function(e){return ve.a.createElement("span",null,Object(ye.n)(e))}},{title:"平台类型",dataIndex:"platform",key:"platform",render:function(e){return ve.a.createElement("span",null,Object(ye.k)(e))}},{title:"资源名称",dataIndex:"resourceName",key:"resourceName"},{title:"资源值",dataIndex:"resourceValue",key:"resourceValue"},{title:"操作",key:"operation",render:function(t,n){return ve.a.createElement("span",null,ve.a.createElement(te.a,{title:"确定要删除吗？",onConfirm:function(){return e.delResource(n.id)},okText:"确定",cancelText:"取消"},ve.a.createElement("a",null,"删除")),ve.a.createElement("span",{className:"ant-divider"}),ve.a.createElement("a",{onClick:function(t){e.changeResource(n)}},"修改"))}}];return ve.a.createElement("div",{className:"pageWhiteList"},ve.a.createElement("div",{style:{padding:"20px 30px",textAlign:"right"}},ve.a.createElement(Z.a,{size:"large",type:"primary",icon:"plus-circle-o",onClick:function(t){return e.addResource()}},"添加资源")),ve.a.createElement("div",{className:"app-narrow-table",style:{padding:"0 30px"}},ve.a.createElement(U.a,{rowKey:"id",columns:n,dataSource:t,bordered:!0}),ve.a.createElement(K,null)))}}]),t}(ve.a.Component))||G},805:function(e,t,n){"use strict";n(83),n(815)},806:function(e,t,n){"use strict";n(83),n(816),n(805)},807:function(e,t,n){"use strict";n(83),n(817)},808:function(e,t){},809:function(e,t,n){"use strict";n(83),n(824),n(825)},810:function(e,t,n){"use strict";n(83),n(818)},811:function(e,t,n){"use strict";n(83),n(814)},812:function(e,t,n){"use strict";var a=n(807),r=(n.n(a),n(172)),i=n.n(r),o=n(0),c=n.n(o);t.a=function(e){var t=e.loading;return c.a.createElement("div",{className:"app-spin"},c.a.createElement(i.a,{size:"large",spinning:t}))}},813:function(e,t,n){"use strict";n(83),n(819),n(810),n(811),n(820),n(807),n(822)},814:function(e,t){},815:function(e,t){},816:function(e,t){},817:function(e,t){},818:function(e,t){},819:function(e,t){},820:function(e,t,n){"use strict";n(83),n(821),n(399)},821:function(e,t){},822:function(e,t,n){"use strict";n(83),n(823),n(806),n(805)},823:function(e,t){},824:function(e,t){},825:function(e,t,n){"use strict";n(83),n(808)},833:function(e,t,n){"use strict";n(83),n(836),n(399)},836:function(e,t,n){"use strict";n(83),n(837)},837:function(e,t){}});