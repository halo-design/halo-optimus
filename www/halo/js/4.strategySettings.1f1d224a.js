webpackJsonp([4],{797:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,l,r=a(400),u=(a.n(r),a(171)),o=a.n(u),s=a(847),c=(a.n(s),a(423)),d=a.n(c),m=a(805),p=(a.n(m),a(402)),f=a.n(p),y=a(399),g=(a.n(y),a(70)),h=a.n(g),b=a(105),E=(a.n(b),a(84)),v=a.n(E),k=a(30),S=a.n(k),N=a(4),V=a.n(N),C=a(7),x=a.n(C),w=a(5),I=a.n(w),P=a(6),O=a.n(P),T=a(3),M=a.n(T),L=a(810),_=(a.n(L),a(108)),z=a.n(_),F=a(809),j=(a.n(F),a(401)),A=a.n(j),B=a(0),q=a.n(B),D=a(37),W=a(32),G=a(812),J=a(418),K=A.a.Item,H=z.a.Group,Q=(n=Object(D.b)(null,function(e){return Object(W.b)(M()({},J),e)}),i=A.a.create(),n(l=i(l=function(e){function t(e){V()(this,t);var a=I()(this,(t.__proto__||S()(t)).call(this,e));return a.state={loading:!1},a}return O()(t,e),x()(t,[{key:"componentWillMount",value:function(){this.props.form.resetFields()}},{key:"onClose",value:function(){(0,this.props.setAddEditModalVisible)(!1)}},{key:"onClear",value:function(){this.props.form.resetFields()}},{key:"onSubmit",value:function(){var e=this,t=this.props,a=t.form,n=t.modalType,i=t.initVal,l=t.addStrategy,r=t.editStrategy,u=a.getFieldsValue,o=a.validateFields,s=function(){e.setState({loading:!0})},c=function(){e.setState({loading:!1})};o(function(t,a){if(t)v.a.error("填写内容有错误，请仔细填写！");else{var o=u(),d="add"===n,m=r;o.authDefine=""+o.ad1+o.ad2+o.ad3+o.ad4+o.ad5,d?m=l:o=M()({},o,{authId:i.authId,areaNo:i.areaNo}),s(),m(o,function(){c(),e.onClose()},c)}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.form,n=t.modalType,i=t.initVal,l=a.getFieldDecorator,r={labelCol:{span:6},wrapperCol:{span:16}},u={min:0,max:9,marks:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"}},s="add"===n;return q.a.createElement("div",{className:"strategyAddEdit"},q.a.createElement(o.a,{title:s?"新增策略":"修改策略",width:600,visible:!0,onOk:this.onSubmit,onCancel:function(t){return e.onClose()},footer:[q.a.createElement(h.a,{key:"back",type:"ghost",size:"large",onClick:function(t){return e.onClose()}},"返 回"),q.a.createElement(h.a,{key:"submit",type:"primary",size:"large",onClick:function(t){return e.onSubmit()}},"提 交")]},q.a.createElement(A.a,{layout:"horizontal"},!s&&q.a.createElement(K,M()({label:"策略编号"},r),q.a.createElement("span",null,i.authId)),q.a.createElement(K,M()({label:"策略名称："},r,{required:!0,hasFeedback:!0}),l("alias",{initialValue:s?"":i.alias,validate:[{rules:[{required:!0,message:"请填写策略名称"}],trigger:"onBlur"}]})(q.a.createElement(f.a,{placeholder:"请填写策略名称",size:"large"}))),q.a.createElement(K,M()({label:"授权方式："},r),l("authType",{initialValue:s?"0":i.authType})(q.a.createElement(H,null,q.a.createElement(z.a,{value:"0"},"无序"),q.a.createElement(z.a,{value:"1"},"有序")))),q.a.createElement(K,M()({label:"一级授权人数："},r),l("ad1",{initialValue:s?0:Number(i.add1)})(q.a.createElement(d.a,u))),q.a.createElement(K,M()({label:"二级授权人数："},r),l("ad2",{initialValue:s?0:Number(i.add2)})(q.a.createElement(d.a,u))),q.a.createElement(K,M()({label:"三级授权人数："},r),l("ad3",{initialValue:s?0:Number(i.add3)})(q.a.createElement(d.a,u))),q.a.createElement(K,M()({label:"四级授权人数："},r),l("ad4",{initialValue:s?0:Number(i.add4)})(q.a.createElement(d.a,u))),q.a.createElement(K,M()({label:"五级授权人数："},r),l("ad5",{initialValue:s?0:Number(i.add5)})(q.a.createElement(d.a,u)))),q.a.createElement(G.a,{loading:this.state.loading})))}}]),t}(q.a.Component))||l)||l);a.d(t,"default",function(){return Ce});var R,U,X=a(813),Y=(a.n(X),a(403)),Z=a.n(Y),$=a(399),ee=(a.n($),a(70)),te=a.n(ee),ae=a(30),ne=a.n(ae),ie=a(4),le=a.n(ie),re=a(7),ue=a.n(re),oe=a(5),se=a.n(oe),ce=a(6),de=a.n(ce),me=a(3),pe=a.n(me),fe=a(400),ye=(a.n(fe),a(171)),ge=a.n(ye),he=a(0),be=a.n(he),Ee=a(37),ve=a(32),ke=a(106),Se=a(175),Ne=a(418),Ve=ge.a.confirm,Ce=(R=Object(Ee.b)(function(e){var t=e.pages.strategySettings.addEditBoxVisible,a=e.public,n=a.menu.userMenu,i=a.strategy;return{userMenu:n,strategyList:i.strategyList,strategyListSelOpt:i.strategyListSelOpt,totalNum:i.strategyListTotalNum,addEditBoxVisible:t}},function(e){return Object(ve.b)(pe()({getStrategyList:Se.b},Ne),e)}))(U=function(e){function t(e){le()(this,t);var a=se()(this,(t.__proto__||ne()(t)).call(this,e));return a.state={modalType:"add",initVal:null},a}return de()(t,e),ue()(t,[{key:"showModal",value:function(){this.props.setAddEditModalVisible(!0)}},{key:"addPolicy",value:function(){this.showModal(),this.setState({modalType:"add",initVal:null})}},{key:"modStrategy",value:function(e){this.showModal(),this.setState({modalType:"edit",initVal:e})}},{key:"delStrategy",value:function(e){var t=this;Ve({title:"删除策略",content:"确认删除策略？",onOk:function(){t.props.deleteStrategy(e)}})}},{key:"componentWillMount",value:function(){this.props.getStrategyList({currentPage:1,turnPageShowNum:10})}},{key:"render",value:function(){var e=this,t=this.props,a=t.userMenu,n=t.strategyList,i=t.getStrategyList,l=t.totalNum,r=t.strategyListSelOpt,u=t.addEditBoxVisible,o=this.state,s=o.modalType,c=o.initVal,d=be.a.createElement(te.a,{size:"large",type:"primary",icon:"plus-circle-o",onClick:function(t){return e.addPolicy()}},"新增策略"),m=[{title:"策略编号",dataIndex:"authId",key:"authId"},{title:"策略名称",dataIndex:"alias",key:"alias"},{title:"授权方式",dataIndex:"authType",key:"authType",render:function(e,t){return"0"===e||0===e?be.a.createElement("span",null,"无序"):be.a.createElement("span",null,"有序")}},{title:"授权定义",children:[{title:"一级",dataIndex:"add1",key:"add1"},{title:"二级",dataIndex:"add2",key:"add2"},{title:"三级",dataIndex:"add3",key:"ad3"},{title:"四级",dataIndex:"add4",key:"add4"},{title:"五级",dataIndex:"add5",key:"add5"}]},{title:"操作",key:"operation",render:function(t,n){return Object(ke.c)(a,[{item:"F002",button:be.a.createElement("a",{onClick:function(t){e.modStrategy(n)}},"修改")},{item:"F004",button:be.a.createElement("a",{onClick:function(t){e.delStrategy(n)}},"删除")}])}}],p={total:Number(l),current:Number(r.currentPage),showSizeChanger:!0,pageSize:Number(r.turnPageShowNum),onShowSizeChange:function(e,t){i({currentPage:1,turnPageShowNum:t,bsnName:r.bsnName})},onChange:function(e){i({currentPage:e,turnPageShowNum:r.turnPageShowNum,bsnName:r.bsnName})}};return be.a.createElement("div",{className:"pagePolicySettings"},be.a.createElement("div",{style:{padding:"20px 30px",textAlign:"right"}},Object(ke.b)(a,"F001",d)),be.a.createElement("div",{className:"app-narrow-table",style:{padding:"0 30px"}},be.a.createElement(Z.a,{rowKey:"authId",bordered:!0,columns:m,dataSource:n,pagination:p})),u?be.a.createElement(Q,{modalType:s,initVal:c}):null)}}]),t}(be.a.Component))||U},805:function(e,t,a){"use strict";a(83),a(815)},806:function(e,t,a){"use strict";a(83),a(816),a(805)},807:function(e,t,a){"use strict";a(83),a(817)},808:function(e,t){},809:function(e,t,a){"use strict";a(83),a(824),a(825)},810:function(e,t,a){"use strict";a(83),a(818)},811:function(e,t,a){"use strict";a(83),a(814)},812:function(e,t,a){"use strict";var n=a(807),i=(a.n(n),a(172)),l=a.n(i),r=a(0),u=a.n(r);t.a=function(e){var t=e.loading;return u.a.createElement("div",{className:"app-spin"},u.a.createElement(l.a,{size:"large",spinning:t}))}},813:function(e,t,a){"use strict";a(83),a(819),a(810),a(811),a(820),a(807),a(822)},814:function(e,t){},815:function(e,t){},816:function(e,t){},817:function(e,t){},818:function(e,t){},819:function(e,t){},820:function(e,t,a){"use strict";a(83),a(821),a(399)},821:function(e,t){},822:function(e,t,a){"use strict";a(83),a(823),a(806),a(805)},823:function(e,t){},824:function(e,t){},825:function(e,t,a){"use strict";a(83),a(808)},847:function(e,t,a){"use strict";a(83),a(848),a(849)},848:function(e,t){},849:function(e,t,a){"use strict";a(83),a(850)},850:function(e,t){}});