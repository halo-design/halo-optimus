webpackJsonp([2],{793:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,l,i,s,u,o,c,d,p,m,h,f,b=a(400),v=(a.n(b),a(171)),g=a.n(v),E=a(826),y=(a.n(E),a(404)),k=a.n(y),C=a(827),N=(a.n(C),a(405)),S=a.n(N),w=a(805),B=(a.n(w),a(402)),L=a.n(B),V=a(399),D=(a.n(V),a(70)),I=a.n(D),T=a(105),P=(a.n(T),a(84)),x=a.n(P),F=a(30),M=a.n(F),_=a(4),O=a.n(_),z=a(7),R=a.n(z),U=a(5),q=a.n(U),j=a(6),A=a.n(j),Y=a(3),K=a.n(Y),$=a(834),W=(a.n($),a(407)),H=a.n(W),G=a(810),Q=(a.n(G),a(108)),J=a.n(Q),X=a(806),Z=(a.n(X),a(107)),ee=a.n(Z),te=a(809),ae=(a.n(te),a(401)),ne=a.n(ae),re=a(0),le=a.n(re),ie=a(37),se=a(32),ue=a(812),oe=a(406),ce=ne.a.Item,de=ee.a.Option,pe=J.a.Group,me=H.a.SHOW_PARENT,he={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"},fe=(n=Object(ie.b)(function(e){var t=e.pages.userManage.userBox,a=e.public,n=a.config,r=n.certType,l=n.level,i=n.post.postList,s=a.branchTree;return{userBox:t,branchNodes:s.selectTreeBranchList,allBranchList:s.allBranchList,certType:r,postList:i,level:l}},function(e){return Object(se.b)(K()({},oe),e)}),r=ne.a.create(),n(l=r(l=function(e){function t(e){O()(this,t);var a=q()(this,(t.__proto__||M()(t)).call(this,e));return a.state={loading:!1,initVal:{userRight:"00000000",userLevel:"",brhId:"",postId:"",userMobile:"",userCertNo:"",userCertType:"",userAddress:"",userEmail:"",userDesc:"",userPwd:"",userLoginName:"",userName:""},pswdChange:!1,defaultPassword:"",boxTitle:"新增用户"},a.certCheck=a.certCheck.bind(a),a.onPwdChange=a.onPwdChange.bind(a),a}return A()(t,e),R()(t,[{key:"onPwdChange",value:function(){this.setState({pswdChange:!0})}},{key:"componentWillMount",value:function(){var e=this.props,t=e.form,a=e.userBox;if(t.resetFields(),"MODIFY"===a.type){this.setState({defaultPassword:"000000",boxTitle:"修改用户信息"});var n=K()({},this.state.initVal,a.initVal);this.setState({initVal:n})}}},{key:"onClose",value:function(){var e=this.props,t=e.userBox,a=e.setAddUserBoxVsisible,n=e.colseModifyUser;"MODIFY"===t.type?n():a(!1),this.onClear()}},{key:"onClear",value:function(){this.props.form.resetFields()}},{key:"onSubmit",value:function(){var e=this,t=this.props,a=t.form,n=t.userBox,r=t.postList,l=t.addUser,i=t.updateUser,s=t.allBranchList,u=a.getFieldsValue;(0,a.validateFields)(function(t,a){if(t)x.a.error("填写内容有错误，请仔细填写！");else{var o=u(),c=o.postId,d="";r.map(function(e){c&&e.postId===c&&(d=e.postName)});var p=o.brhId,m="";s.map(function(e){p&&e.brhId===p&&(m=e.brhName)});var h=K()({},u(),{brhName:m,postName:d}),f=function(){e.setState({loading:!1})};!function(){e.setState({loading:!0})}(),"MODIFY"===n.type?(h=K()({},h,{pswdChange:e.state.pswdChange,userNo:n.initVal.userNo}),e.state.pswdChange||(h.userPwd=n.initVal.userPwd),i(h,function(){f(),e.onClear(),e.onClose()},f)):l(h,function(){f(),e.onClear(),e.onClose()},f)}})}},{key:"phoneNumberCheck",value:function(e,t,a){/^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$/.test(t)?a():a("请输入有效的手机号码")}},{key:"pswdCheck",value:function(e,t,a){/^\w{6,20}$/.test(t)?a():a("密码为6~20位字符")}},{key:"certCheck",value:function(e,t,a){var n=this.props.form.getFieldValue,r=n("userCertType");if("1"===r){var l=0;if(!/^\d{17}(\d|x)$/i.test(t))return void a("身份证长度或格式错误");if(t=t.replace(/x$/i,"a"),!he[parseInt(t.substring(0,2))]){return void a("身份证地区非法")}var i=t.substr(6,4)+"/"+Number(t.substr(10,2))+"/"+Number(t.substr(12,2)),s=new Date(i);if(i!==s.getFullYear()+"/"+(s.getMonth()+1)+"/"+s.getDate()){return void a("身份证出生日期非法")}for(var u=17;u>=0;u--)l+=Math.pow(2,u)%11*parseInt(t.charAt(17-u),11);if(l%11!=1){return void a("身份证号非法")}a()}else if("2"===r){var o=/^\w{7,}$/;if(!o.test(t)){return void a("请输入正确的护照")}a()}else if("3"===r){var c=/^[G|T|S|L|Q|D|C|W]\w{9,11}\S+$/;if(!c.test(t)){return void a("请输入正确的港澳通行证")}a()}else if(t){a("请先选择证件类型")}else a()}},{key:"render",value:function(){var e=this,t=this.props,a=t.userBox,n=t.certType,r=t.postList,l=t.level,i=t.branchNodes,s=this.props.form.getFieldDecorator,u=this.state,o=u.initVal,c=u.defaultPassword,d=u.boxTitle,p={labelCol:{span:6},wrapperCol:{span:16}},m=n.map(function(e){return le.a.createElement(de,{value:e.paramKey,key:e.paramKey},e.paramValue)}),h=r.map(function(e){return le.a.createElement(de,{key:e.postId,value:e.postId},e.postName)}),f=l.map(function(e){return le.a.createElement(de,{value:e.paramKey,key:e.paramKey},e.paramValue)}),b="";"ADD"===a.type&&(b=le.a.createElement(I.a,{key:"clean",type:"ghost",size:"large",onClick:function(t){return e.onClear()}},"清除所有"));var v={dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:i,placeholder:"请选择",treeDefaultExpandAll:!0,treeCheckStrictly:!1,treeCheckable:!1,showCheckedStrategy:me};return le.a.createElement("div",{className:"BranchAdd"},le.a.createElement(g.a,{title:d,width:600,visible:!0,onOk:this.onSubmit,onCancel:function(t){return e.onClose()},footer:[le.a.createElement(I.a,{key:"back",type:"ghost",size:"large",onClick:function(t){return e.onClose()}},"返 回"),b,le.a.createElement(I.a,{key:"submit",type:"primary",size:"large",onClick:function(t){return e.onSubmit()}},"提 交")]},le.a.createElement(ne.a,{layout:"horizontal"},le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"用户姓名："},p,{required:!0,hasFeedback:!0}),s("userName",{initialValue:o.userName,validate:[{rules:[{required:!0,message:"请输入用户名"}],trigger:"onBlur"}]})(le.a.createElement(L.a,{placeholder:"请输入用户名",size:"large"})))),le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"登录用户："},p,{required:!0,hasFeedback:!0}),s("userLoginName",{initialValue:o.userLoginName,validate:[{rules:[{required:!0,message:"请输入登录账号"}],trigger:"onBlur"}]})(le.a.createElement(L.a,{placeholder:"请输入登录账号",size:"large"}))))),le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"登录密码："},p,{required:!0,hasFeedback:!0}),s("userPwd",{initialValue:c,onChange:this.onPwdChange,rules:[{required:!0,message:" "},{validator:this.pswdCheck}]})(le.a.createElement(L.a,{type:"password",placeholder:"请输入密码",size:"large"})))),le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"用户描述："},p),s("userDesc",{initialValue:o.userDesc})(le.a.createElement(L.a,{placeholder:"请填写用户描述",size:"large"}))))),le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"用户邮箱："},p,{required:!0,hasFeedback:!0}),s("userEmail",{initialValue:o.userEmail,validate:[{rules:[{required:!0,message:"请输入邮箱地址"}],trigger:"onBlur"},{rules:[{type:"email",message:"请输入正确邮箱地址"}],trigger:["onBlur","onChange"]}]})(le.a.createElement(L.a,{placeholder:"请输入邮箱地址",size:"large"})))),le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"用户住址："},p),s("userAddress",{initialValue:o.userAddress})(le.a.createElement(L.a,{placeholder:"请填写用户住址",size:"large"}))))),le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"证件类型："},p,{required:!0,hasFeedback:!0}),s("userCertType",{initialValue:o.userCertType,rules:[{required:!0,message:"请选择证件类型"}]})(le.a.createElement(ee.a,{placeholder:"请选择证件类型"},m)))),le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"证件号码："},p,{required:!0,hasFeedback:!0}),s("userCertNo",{initialValue:o.userCertNo,rules:[{required:!0,message:"请输入证件号码"},{validator:this.certCheck}]})(le.a.createElement(L.a,{placeholder:"请输入证件号码",size:"large"}))))),le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"手机号码："},p,{required:!0,hasFeedback:!0}),s("userMobile",{initialValue:o.userMobile,rules:[{required:!0,message:" "},{validator:this.phoneNumberCheck}]})(le.a.createElement(L.a,{placeholder:"请输入手机号码",size:"large"})))),le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"所属机构：",required:!0,hasFeedback:!0},p),s("brhId",{initialValue:o.brhId,rules:[{required:!0,message:"请选择所属机构"}]})(le.a.createElement(H.a,K()({placeholder:"请选择所属机构"},v,{allowClear:!0})))))),le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"岗位选择："},p),s("postId",{initialValue:o.postId,rules:[{message:"请选择岗位"}]})(le.a.createElement(ee.a,{placeholder:"请选择岗位"},h)))),le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"用户等级："},p,{required:!0,hasFeedback:!0}),s("userLevel",{initialValue:o.userLevel,rules:[{required:!0,message:"请选择用户等级"}]})(le.a.createElement(ee.a,{placeholder:"请选择用户等级"},f))))),le.a.createElement(k.a,null,le.a.createElement(S.a,{span:12},le.a.createElement(ce,K()({label:"审批权限："},p,{required:!0}),s("userRight",{initialValue:o.userRight,rules:[{message:" "}]})(le.a.createElement(pe,null,le.a.createElement(J.a,{key:"a",value:"00000100"},"有"),le.a.createElement(J.a,{key:"b",value:"00000000"},"无"))))))),le.a.createElement(ue.a,{loading:this.state.loading})))}}]),t}(le.a.Component))||l)||l),be=a(826),ve=(a.n(be),a(404)),ge=a.n(ve),Ee=a(827),ye=(a.n(Ee),a(405)),ke=a.n(ye),Ce=a(805),Ne=(a.n(Ce),a(402)),Se=a.n(Ne),we=a(399),Be=(a.n(we),a(70)),Le=a.n(Be),Ve=a(30),De=a.n(Ve),Ie=a(4),Te=a.n(Ie),Pe=a(7),xe=a.n(Pe),Fe=a(5),Me=a.n(Fe),_e=a(6),Oe=a.n(_e),ze=a(3),Re=a.n(ze),Ue=a(806),qe=(a.n(Ue),a(107)),je=a.n(qe),Ae=a(809),Ye=(a.n(Ae),a(401)),Ke=a.n(Ye),$e=a(829),We=(a.n($e),a(410)),He=a.n(We),Ge=a(0),Qe=a.n(Ge),Je=a(37),Xe=a(32),Ze=a(106),et=a(406),tt=He.a.RangePicker,at=Ke.a.Item,nt=je.a.Option,rt=(i=Object(Je.b)(function(e){var t=e.pages.userManage.userBox,a=e.public;return{userMenu:a.menu.userMenu,level:a.config.level,userBox:t}},function(e){return Object(Xe.b)(Re()({},et),e)}),s=Ke.a.create(),i(u=s(u=function(e){function t(e){Te()(this,t);var a=Me()(this,(t.__proto__||De()(t)).call(this,e));return a.disabledEndDate=a.disabledEndDate.bind(a),a.disabledStartDate=a.disabledStartDate.bind(a),a}return Oe()(t,e),xe()(t,[{key:"disabledEndDate",value:function(e){var t=this.props.form.getFieldsValue().beginTime;return!(!e||!t)&&e.valueOf()<=t.valueOf()}},{key:"disabledStartDate",value:function(e){var t=this.props.form.getFieldsValue().endTime;return!(!e||!t)&&e.valueOf()>=t.valueOf()}},{key:"handleClear",value:function(){this.props.form.resetFields()}},{key:"addUser",value:function(){this.props.setAddUserBoxVsisible(!0)}},{key:"searchUser",value:function(){var e=this.props,t=e.form,a=e.userPageByBrh;(0,e.updateSelectKeys)([]);var n=t.getFieldsValue();t.validateFields(function(e,t){if(!e){var a=t.filterTime;n=a?Re()({},n,{beginTime:a[0].format("YYYYMMDD"),endTime:a[1].format("YYYYMMDD")}):Re()({},n,{beginTime:"",endTime:""})}}),a(Re()({currentPage:"1",brhId:""},n))}},{key:"render",value:function(){var e=this,t={labelCol:{span:6},wrapperCol:{span:17}},a=Qe.a.createElement(Le.a,{size:"large",type:"primary",onClick:function(t){return e.addUser()}},"新增用户"),n=this.props,r=n.form,l=n.level,i=n.userBox,s=r.getFieldDecorator,u=l.map(function(e){return Qe.a.createElement(nt,{value:e.paramKey,key:e.paramKey},e.paramValue)}),o=function(e){return e&&e.valueOf()>Date.now()};return Qe.a.createElement("div",{className:"app-search-panel"},Qe.a.createElement(Ke.a,{layout:"horizontal"},Qe.a.createElement(ge.a,null,Qe.a.createElement(ke.a,{span:11},Qe.a.createElement(at,Re()({label:"用户编号："},t),s("userNo",{initialValue:""})(Qe.a.createElement(Se.a,{placeholder:"请输入用户编号",size:"large"})))),Qe.a.createElement(ke.a,{span:13},Qe.a.createElement(at,Re()({label:"用户名称："},t),s("userName",{initialValue:""})(Qe.a.createElement(Se.a,{placeholder:"请输入用户名称",size:"large"}))))),Qe.a.createElement(ge.a,null,Qe.a.createElement(ke.a,{span:11},Qe.a.createElement(at,Re()({label:"用户级别："},t),s("userLevel",{initialValue:""})(Qe.a.createElement(je.a,{placeholder:"请选择用户级别",allowClear:!0},u)))),Qe.a.createElement(ke.a,{span:13},Qe.a.createElement(at,Re()({label:"创建日期："},t),s("filterTime",{initialValue:""})(Qe.a.createElement(tt,{style:{width:"100%"},format:"YYYY/MM/DD",disabledDate:o})))))),Qe.a.createElement("div",{className:"button-group"},Qe.a.createElement(Le.a,{size:"large",onClick:function(t){return e.searchUser()}},"搜索用户"),Qe.a.createElement(Le.a,{size:"large",type:"ghost",onClick:function(t){return e.handleClear()}},"清除条件"),Object(Ze.b)(this.props.userMenu,"F001",a)),i.visible?Qe.a.createElement(fe,null):"")}}]),t}(Qe.a.Component))||u)||u),lt=a(400),it=(a.n(lt),a(171)),st=a.n(it),ut=a(399),ot=(a.n(ut),a(70)),ct=a.n(ot),dt=a(826),pt=(a.n(dt),a(404)),mt=a.n(pt),ht=a(827),ft=(a.n(ht),a(405)),bt=a.n(ft),vt=a(3),gt=a.n(vt),Et=a(30),yt=a.n(Et),kt=a(4),Ct=a.n(kt),Nt=a(7),St=a.n(Nt),wt=a(5),Bt=a.n(wt),Lt=a(6),Vt=a.n(Lt),Dt=a(0),It=a.n(Dt),Tt=a(37),Pt=a(32),xt=a(406),Ft=(o=Object(Tt.b)(function(e){var t=e.pages.userManage.previewBox,a=t.visible,n=t.info,r=e.public.config;return{visible:a,level:r.level,certType:r.certType,info:n}},function(e){return Object(Pt.b)({closePreviewUser:xt.closePreviewUser},e)}))(c=function(e){function t(){return Ct()(this,t),Bt()(this,(t.__proto__||yt()(t)).apply(this,arguments))}return Vt()(t,e),St()(t,[{key:"onClose",value:function(){this.props.closePreviewUser()}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.level,r=t.certType,l=t.info,i=l.userLevel,s=l.userCertType,u=l.userName,o=l.userEmail,c=l.userMobile,d=l.postName,p=l.userRight,m=l.userLoginName,h=l.userDesc,f=l.userAddress,b=l.userCertNo,v=l.brhName,g=l.roleList,E=function(e,t){var a={style:{padding:"5px"}};return It.a.createElement(bt.a,gt()({span:12},a,{key:t}),e[0],"：",e[1])},y=function(e,t){return It.a.createElement(mt.a,{key:t},e.map(function(e,t){return E(e,t)}))},k=function(e,t){var a="";return t.forEach(function(t){e===t.paramKey&&(a=t.paramValue)}),a||""};return It.a.createElement("div",{className:"previewBox"},It.a.createElement(st.a,{title:"查看用户基本信息",width:680,visible:a,onCancel:function(t){return e.onClose()},footer:[It.a.createElement(ct.a,{key:"back",type:"ghost",size:"large",onClick:function(t){return e.onClose()}},"返 回")]},[[["用户姓名",u],["用户邮箱",o]],[["证件类型",k(s,r)],["手机号码",c]],[["岗位名称",d],["审批权限","00000100"===p?"有":"无"]],[["角色绑定",function(e){var t="";return e?(e.map(function(e,a){t+=0===a?e.roleName:"，"+e.roleName}),t):""}(g)],["登录用户",m]],[["用户描述",h],["用户住址",f]],[["证件号码",b],["所属机构",v]],[["用户等级",k(i,n)]]].map(function(e,t){return y(e,t)})))}}]),t}(It.a.Component))||c,Mt=a(400),_t=(a.n(Mt),a(171)),Ot=a.n(_t),zt=a(399),Rt=(a.n(zt),a(70)),Ut=a.n(Rt),qt=a(30),jt=a.n(qt),At=a(4),Yt=a.n(At),Kt=a(7),$t=a.n(Kt),Wt=a(5),Ht=a.n(Wt),Gt=a(6),Qt=a.n(Gt),Jt=a(834),Xt=(a.n(Jt),a(407)),Zt=a.n(Xt),ea=a(809),ta=(a.n(ea),a(401)),aa=a.n(ta),na=a(0),ra=a.n(na),la=a(37),ia=a(32),sa=a(406),ua=a(174),oa=aa.a.Item,ca=Zt.a.SHOW_PARENT,da=(d=Object(la.b)(function(e){var t=e.pages.userManage.bindRoleBox,a=t.visible,n=t.info,r=e.public.bindRole;return{visible:a,treeNodes:r.selectRoleTreeList,selectedRoleList:r.selectedRoleList,allSelectRoleList:r.allSelectRoleList,info:n}},function(e){return Object(ia.b)({closeBindRole:sa.closeBindRole,updateSelectedRole:ua.d,userRoleAssociation:ua.e},e)}),p=aa.a.create(),d(m=p(m=function(e){function t(){return Yt()(this,t),Ht()(this,(t.__proto__||jt()(t)).apply(this,arguments))}return Qt()(t,e),$t()(t,[{key:"onClose",value:function(){this.props.closeBindRole()}},{key:"onSubmit",value:function(){var e=this.props,t=e.info,a=e.selectedRoleList,n=e.allSelectRoleList,r=e.userRoleAssociation,l=t.userNo,i=t.userName,s=[];a.map(function(e,t){n.map(function(t,a){t.roleId===e&&s.push({roleId:e,roleName:t.roleName})})}),r(l,i,s),this.onClose()}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.treeNodes,r=t.selectedRoleList,l=t.updateSelectedRole,i=function(e){return l(e)},s={dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:n,onChange:i,value:r,defaultValue:r,placeholder:"请选择",treeDefaultExpandAll:!0,treeCheckStrictly:!1,treeCheckable:!1,showCheckedStrategy:ca,multiple:!0};return ra.a.createElement("div",{className:"bindBox"},ra.a.createElement(Ot.a,{title:"角色绑定",width:680,visible:a,onOk:this.onSubmit,onCancel:function(t){return e.onClose()},footer:[ra.a.createElement(Ut.a,{key:"back",type:"ghost",size:"large",onClick:function(t){return e.onClose()}},"返 回"),ra.a.createElement(Ut.a,{key:"submit",type:"primary",size:"large",onClick:function(t){return e.onSubmit()}},"提 交")]},ra.a.createElement(aa.a,{layout:"horizontal"},ra.a.createElement(oa,{label:"角色选择：",required:!0,labelCol:{span:6},wrapperCol:{span:14}},ra.a.createElement(Zt.a,s)))))}}]),t}(ra.a.Component))||m)||m),pa=a(813),ma=(a.n(pa),a(403)),ha=a.n(ma),fa=a(400),ba=(a.n(fa),a(171)),va=a.n(ba),ga=a(30),Ea=a.n(ga),ya=a(4),ka=a.n(ya),Ca=a(7),Na=a.n(Ca),Sa=a(5),wa=a.n(Sa),Ba=a(6),La=a.n(Ba),Va=a(3),Da=a.n(Va),Ia=a(0),Ta=a.n(Ia),Pa=a(37),xa=a(32),Fa=a(812),Ma=a(106),_a=a(174),Oa=a(406),za=(h=Object(Pa.b)(function(e){var t=e.pages.userManage,a=t.userList,n=t.totalSize,r=t.pageData;return{dataSource:a,userMenu:e.public.menu.userMenu,totalSize:n,pageData:r}},function(e){return Object(xa.b)(Da()({},Oa,{getUserRoleTree:_a.c}),e)}))(f=function(e){function t(e){ka()(this,t);var a=wa()(this,(t.__proto__||Ea()(t)).call(this,e));return a.state={loading:!1},a}return La()(t,e),Na()(t,[{key:"setSpin",value:function(e){this.setState({loading:e})}},{key:"modify",value:function(e){var t=this;this.setSpin(!0),this.props.modifyUser(e.userNo,function(){t.setSpin(!1)},function(){t.setSpin(!1)})}},{key:"preview",value:function(e){var t=this,a=this.props;this.setSpin(!0),a.previewUser(e.userNo,function(){t.setSpin(!1)},function(){t.setSpin(!1)})}},{key:"bindRole",value:function(e){this.props.getUserRoleTree(e.userNo),this.props.userBindRole(e)}},{key:"delUser",value:function(e){var t=this.props,a=t.pageData,n=t.delUserUpdate,r=a.currentPage;va.a.confirm({title:"删除用户",content:"是否确认删除用户？",onOk:function(){n(e.userNo,e.brhId,r)}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.userMenu,n=t.dataSource,r=t.totalSize,l=t.pageData,i=t.userPageByBrh,s=[{title:"登录用户",dataIndex:"userLoginName",key:"userLoginName"},{title:"用户编号",dataIndex:"userNo",key:"userNo"},{title:"用户姓名",dataIndex:"userName",key:"userName"},{title:"所属机构",dataIndex:"brhName",key:"brhName"},{title:"用户级别",dataIndex:"userLevel",key:"userLevel"},{title:"创建时间",dataIndex:"createTime",key:"createTime",render:function(e,t){return Ta.a.createElement("span",null,Object(Ma.e)(e))}},{title:"操作",key:"operation",render:function(t,n){return Object(Ma.c)(a,[{item:"F002",button:Ta.a.createElement("a",{onClick:function(t){return e.modify(n)}},"修改")},{item:"F004",button:Ta.a.createElement("a",{onClick:function(t){return e.delUser(n)}},"删除")},{item:"F003",button:Ta.a.createElement("a",{onClick:function(t){return e.preview(n)}},"查看")},{item:"F009",button:Ta.a.createElement("a",{onClick:function(t){return e.bindRole(n)}},"绑定角色")}])}}],u=l.currentPage,o=l.turnPageShowNum,c={total:Number(r),defaultCurrent:1,current:Number(u),showSizeChanger:!0,pageSize:Number(o),onShowSizeChange:function(e,t){l.turnPageShowNum=t,l.currentPage=e,i(l)},onChange:function(e){l.currentPage=e,i(l)}};return Ta.a.createElement("div",{className:"userQuery app-narrow-table",style:{padding:"0 20px"}},Ta.a.createElement(ha.a,{columns:s,dataSource:n,bordered:!0,pagination:c}),Ta.a.createElement(Ft,null),Ta.a.createElement(da,null),Ta.a.createElement(Fa.a,{loading:this.state.loading}))}}]),t}(Ta.a.Component))||f;a.d(t,"default",function(){return pn});var Ra,Ua,qa=a(826),ja=(a.n(qa),a(404)),Aa=a.n(ja),Ya=a(827),Ka=(a.n(Ya),a(405)),$a=a.n(Ka),Wa=a(30),Ha=a.n(Wa),Ga=a(4),Qa=a.n(Ga),Ja=a(7),Xa=a.n(Ja),Za=a(5),en=a.n(Za),tn=a(6),an=a.n(tn),nn=a(0),rn=a.n(nn),ln=a(37),sn=a(32),un=a(841),on=a(835),cn=a(177),dn=a(406),pn=(Ra=Object(ln.b)(function(e){var t=e.pages.userManage.selectedKeys,a=e.public.branchTree,n=a.allBranchList;return{treeBranchList:a.treeBranchList,allBranchList:n,selectedKeys:t}},function(e){return Object(sn.b)({initBranchList:cn.b,userPageByBrh:dn.userPageByBrh},e)}))(Ua=function(e){function t(e){Qa()(this,t);var a=en()(this,(t.__proto__||Ha()(t)).call(this,e));return a.branchSelected=a.branchSelected.bind(a),a.onSearch=a.onSearch.bind(a),a}return an()(t,e),Xa()(t,[{key:"componentWillMount",value:function(){this.props.initBranchList()}},{key:"branchSelected",value:function(e){(0,this.props.userPageByBrh)({currentPage:"1",brhId:e.brhId,brhName:e.title})}},{key:"onSearch",value:function(e){var t=this.props,a=t.userPageByBrh,n=t.allBranchList,r="";n.map(function(t){t.brhName===e&&(r=t.brhId)}),a({currentPage:"1",brhId:r,brhName:e})}},{key:"render",value:function(){var e=this.props,t=e.treeBranchList,a=e.selectedKeys;return rn.a.createElement("div",{className:"pageUserManage"},rn.a.createElement(Aa.a,null,rn.a.createElement($a.a,{span:5},rn.a.createElement("div",{className:"app-left-side"},rn.a.createElement(on.a,{placeholder:"请输入搜索机构名称",initialValue:"",onSearch:this.onSearch}),rn.a.createElement(un.a,{selectedKeys:a,selected:this.branchSelected,branchList:t}))),rn.a.createElement($a.a,{span:19},rn.a.createElement(rt,null),rn.a.createElement(za,null))))}}]),t}(rn.a.Component))||Ua},805:function(e,t,a){"use strict";a(83),a(815)},806:function(e,t,a){"use strict";a(83),a(816),a(805)},807:function(e,t,a){"use strict";a(83),a(817)},808:function(e,t){},809:function(e,t,a){"use strict";a(83),a(824),a(825)},810:function(e,t,a){"use strict";a(83),a(818)},811:function(e,t,a){"use strict";a(83),a(814)},812:function(e,t,a){"use strict";var n=a(807),r=(a.n(n),a(172)),l=a.n(r),i=a(0),s=a.n(i);t.a=function(e){var t=e.loading;return s.a.createElement("div",{className:"app-spin"},s.a.createElement(l.a,{size:"large",spinning:t}))}},813:function(e,t,a){"use strict";a(83),a(819),a(810),a(811),a(820),a(807),a(822)},814:function(e,t){},815:function(e,t){},816:function(e,t){},817:function(e,t){},818:function(e,t){},819:function(e,t){},820:function(e,t,a){"use strict";a(83),a(821),a(399)},821:function(e,t){},822:function(e,t,a){"use strict";a(83),a(823),a(806),a(805)},823:function(e,t){},824:function(e,t){},825:function(e,t,a){"use strict";a(83),a(808)},826:function(e,t,a){"use strict";a(83),a(808)},827:function(e,t,a){"use strict";a(83),a(808)},828:function(e,t,a){"use strict";a(83)},829:function(e,t,a){"use strict";a(83),a(830),a(805),a(831)},830:function(e,t){},831:function(e,t,a){"use strict";a(83),a(832),a(805)},832:function(e,t){},834:function(e,t,a){"use strict";a(83),a(840),a(806),a(811)},835:function(e,t,a){"use strict";a.d(t,"a",function(){return I});var n,r,l=a(805),i=(a.n(l),a(402)),s=a.n(i),u=a(828),o=(a.n(u),a(25)),c=a.n(o),d=a(105),p=(a.n(d),a(84)),m=a.n(p),h=a(30),f=a.n(h),b=a(4),v=a.n(b),g=a(7),E=a.n(g),y=a(5),k=a.n(y),C=a(6),N=a.n(C),S=a(809),w=(a.n(S),a(401)),B=a.n(w),L=a(0),V=a.n(L),D=B.a.Item,I=(n=B.a.create())(r=function(e){function t(){return v()(this,t),k()(this,(t.__proto__||f()(t)).apply(this,arguments))}return N()(t,e),E()(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=e.placeholder,n=e.initialValue,r=e.onSearch,l=t.getFieldDecorator,i=t.getFieldsValue;return V.a.createElement("div",{className:"app-input-search"},V.a.createElement(B.a,{layout:"inline"},V.a.createElement(D,null,l("keyword",{initialValue:n})(V.a.createElement(s.a,{addonAfter:V.a.createElement(c.a,{type:"search",onClick:function(e){var t=i().keyword;t.trim()?r(t):m.a.warning("请输入搜索关键字！")}}),placeholder:a})))))}}]),t}(L.Component))||r},838:function(e,t,a){"use strict";a(83),a(839),a(811)},839:function(e,t){},840:function(e,t){},841:function(e,t,a){"use strict";var n=a(838),r=(a.n(n),a(415)),l=a.n(r),i=a(0),s=a.n(i),u=l.a.TreeNode,o=function e(t){return t.children.length>=1?s.a.createElement(u,{title:t.name,key:t.id},t.children.map(e)):s.a.createElement(u,{title:t.name,key:t.id,isLeaf:!0})},c=function(e){var t=e.selected,a=e.branchList,n=e.selectedKeys;return a?s.a.createElement("div",{className:"app-barnch-tree"},s.a.createElement(l.a,{showLine:!0,selectedKeys:n||[],onSelect:function(e,a){t({brhId:e[0],title:a.node.props.title})}},a.map(o))):null};t.a=c}});